(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"1WOy":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.treeService=void 0;var n=a("lrm/"),r=new n.TreeService;t.treeService=r},CWS2:function(e,t,a){"use strict";var n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("T2oS");var r=n(a("W9HT"));a("Pwec");var o=n(a("CtXQ"));a("lUTK");var l=n(a("BvKs"));a("Telt");var u=n(a("Tckk")),i=n(a("2Taf")),d=n(a("vZ4D")),c=n(a("l4Ni")),s=n(a("ujKo")),f=n(a("MhPg")),p=a("Y2fQ"),m=n(a("q1tI")),h=a("MuoO"),v=n(a("3a4m")),g=n(a("uZXw")),N=n(a("h3zL")),T=function(e){function t(){var e;return(0,i.default)(this,t),e=(0,c.default)(this,(0,s.default)(t).apply(this,arguments)),e.onMenuClick=function(t){var a=t.key;if("logout"!==a)v.default.push("/account/".concat(a));else{var n=e.props.dispatch;n&&n({type:"login/logout"})}},e}return(0,f.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props,t=e.currentUser,a=void 0===t?{}:t,n=e.menu;if(!n)return m.default.createElement("span",{className:"".concat(N.default.action," ").concat(N.default.account)},m.default.createElement(u.default,{size:"small",className:N.default.avatar,src:a.avatar,alt:"avatar"}),m.default.createElement("span",{className:N.default.name},a.name));var i=m.default.createElement(l.default,{className:N.default.menu,selectedKeys:[],onClick:this.onMenuClick},m.default.createElement(l.default.Divider,null),m.default.createElement(l.default.Item,{key:"logout"},m.default.createElement(o.default,{type:"logout"}),a.userId?m.default.createElement(p.FormattedMessage,{id:"menu.account.logout",defaultMessage:"logout"}):m.default.createElement(p.FormattedMessage,{id:"menu.account.login",defaultMessage:"login"})));return a&&a.name?m.default.createElement(g.default,{overlay:i},m.default.createElement("span",{className:"".concat(N.default.action," ").concat(N.default.account)},m.default.createElement(u.default,{size:"small",className:N.default.avatar,src:a.avatar,alt:"avatar"}),m.default.createElement("span",{className:N.default.name},a.name))):m.default.createElement(r.default,{size:"small",style:{marginLeft:8,marginRight:8}})}}]),t}(m.default.Component),E=(0,h.connect)(function(e){var t=e.user;return{currentUser:t.currentUser}})(T);t.default=E},W660:function(e,t,a){e.exports={menuTabs:"antd-pro-layouts-basic-layout-menuTabs"}},bx7e:function(e,t,a){"use strict";var n=a("tAuX"),r=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(a("p0pE")),l=r(a("gWZ8")),u=r(a("qIgq"));a("Znn+");var i=r(a("ZTPi")),d=r(a("Hx5s")),c=n(a("q1tI")),s=r(a("wY1l")),f=a("MuoO"),p=a("Y2fQ"),m=a("55Ip"),h=r(a("3a4m")),v=r(a("eTk0")),g=r(a("sgkG")),N=r(a("mxmt")),T=a("zOZk"),E=a("suse"),M=a("1WOy"),_=r(a("W660")),y=i.default.TabPane,b=function(e,t){return null},P=function(e){var t=(0,c.useState)([]),a=(0,u.default)(t,2),n=a[0],r=a[1],f=(0,c.useState)([]),P=(0,u.default)(f,2),C=P[0],O=P[1],S=(0,c.useState)([]),I=(0,u.default)(S,2),k=I[0],U=I[1],A=(0,c.useState)(""),F=(0,u.default)(A,2),R=F[0],L=F[1],x=(0,c.useState)([]),G=(0,u.default)(x,2),j=G[0],w=G[1],q=e.dispatch,B=e.children,Y=e.settings,H=e.location;(0,c.useEffect)(function(){q&&(q({type:"user/fetchCurrent"}),q({type:"settings/getSetting"}))},[]),(0,c.useEffect)(function(){if(j&&0!==j.length){if(T.APP_CONFIG.USE_MULTI_TABS){var e=H.pathname,t=e,a=D(j),n=[],o=[];a.forEach(function(e){"/"===e.key&&(e.closable=!1,n.push(e),o.push("/"))}),"/"!==t&&a.forEach(function(e){e.key===t&&(n.push(e),o.push(e.key))}),O(n),U(o),L(o[o.length-1])}!T.APP_CONFIG.ACCESS_CONGO||T.APP_CONFIG.USE_LOCAL_MENU!==T.USE_LOCAL_MENU.NON_USE&&T.APP_CONFIG.USE_LOCAL_MENU!==T.USE_LOCAL_MENU.MUTUAL||E.userRequest.getCurrentUserACL().then(function(e){var t=e.isAdmin||!1,a=e.list,n=[],o=[],l=function(e){var t={};return t.id=e.id,t.parentId=e.parentId,t.name=e.name,t.path=e.path,t.iconLocal?t.icon=window.location.origin+t.iconLocal:t.icon=e.icon,t.exact=!0,t};t?M.treeService.visitTree(a,function(e){0===e.type&&n.push(l(e)),o.push(e.code)}):a&&a.length>0&&a.forEach(function(e){0===e.type&&n.push(l(e)),o.push(e.code)}),j&&j.length>0&&M.treeService.visitTree(j,function(e){n.forEach(function(t){t.path===e.path&&(t.component=e.component)})});var u=M.treeService.arrToTree(n);r(u)})}},[j]);var W=function(e){if(T.APP_CONFIG.USE_MULTI_TABS){var t=D(n);h.default.push(e),L(e),t.forEach(function(t){t.key===e&&(0===C.length?(t.closable=!1,O([].concat((0,l.default)(C),[t]))):k.includes(t.key)||(O([].concat((0,l.default)(C),[t])),U([].concat((0,l.default)(k),[t.key]))))})}},Z=function(e){L(e),h.default.push(e)},z=function(e,t){if("remove"===t){var a=R,n=0;C.forEach(function(t,a){t.key===e&&(n=a-1)});var r=[],o=[];C.forEach(function(t){t.key!==e&&(r.push(t),o.push(t.key))}),n>=0&&a===e&&(a=r[n].key),h.default.push(a),O(r),L(a),U(o)}},D=function(e){var t=e,a=[],n=function e(t){t.forEach(function(t){t&&(t.level||a.push({tab:t.locale?(0,p.formatMessage)({id:t.locale}):t.name,key:t.path,closable:!0,component:t.component}),t.children&&t.children.length>0&&e(t.children))})};return n(t),a},K=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t||j&&0!==j.length||w(e),T.APP_CONFIG.ACCESS_CONGO&&T.APP_CONFIG.USE_LOCAL_MENU===T.USE_LOCAL_MENU.NON_USE)return n;var a=n;return n&&0!==n.length||(a=e.map(function(e){e.iconLocal&&(e.icon=window.location.origin+e.iconLocal);var t=(0,o.default)({},e,{children:e.children?K(e.children):[]});return v.default.check(e.authority,t,null)}),r(a)),a},J=function(e){return q&&q({type:"global/changeLayoutCollapsed",payload:e})};return c.default.createElement(d.default,Object.assign({logo:N.default,onCollapse:J,menuItemRender:function(e,t){return e.isUrl?t:T.APP_CONFIG.USE_MULTI_TABS?c.default.createElement("a",{onClick:function(){return W(e.path)}},t):c.default.createElement(s.default,{to:e.path},t)},breadcrumbRender:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return T.APP_CONFIG.USE_MULTI_TABS&&C.forEach(function(t){e.forEach(function(e){t.key===e.path&&(t.tab=e.breadcrumbName)})}),[{path:"/",breadcrumbName:(0,p.formatMessage)({id:"menu.home",defaultMessage:"Home"})}].concat((0,l.default)(e))},itemRender:function(e,t,a,n){var r=0===a.indexOf(e);return r?c.default.createElement(s.default,{to:n.join("/")},e.breadcrumbName):c.default.createElement("span",null,e.breadcrumbName)},footerRender:b,menuDataRender:function(e){return K(e,!0)},formatMessage:p.formatMessage,rightContentRender:function(e){return c.default.createElement(g.default,Object.assign({},e))}},e,Y),T.APP_CONFIG.USE_MULTI_TABS?c.default.createElement("div",{style:{height:52,margin:"-24px -24px 24px"}},c.default.createElement(i.default,{activeKey:R,onChange:Z,tabBarStyle:{background:"#001529"},tabBarGutter:0,hideAdd:!0,type:"editable-card",onEdit:z,className:_.default.menuTabs},C.map(function(e){return c.default.createElement(y,{tab:e.tab,key:e.key,closable:e.closable},c.default.createElement("div",{style:{paddingRight:24,paddingLeft:24}},c.default.createElement(m.Route,{key:e.key,component:e.component,exact:!0})))}))):null,T.APP_CONFIG.USE_MULTI_TABS?null:B)},C=(0,f.connect)(function(e){var t=e.global,a=e.settings;return{collapsed:t.collapsed,settings:a}})(P);t.default=C},h3zL:function(e,t,a){e.exports={logo:"antd-pro-components-global-header-index-logo",menu:"antd-pro-components-global-header-index-menu",trigger:"antd-pro-components-global-header-index-trigger",right:"antd-pro-components-global-header-index-right",action:"antd-pro-components-global-header-index-action",search:"antd-pro-components-global-header-index-search",account:"antd-pro-components-global-header-index-account",avatar:"antd-pro-components-global-header-index-avatar",dark:"antd-pro-components-global-header-index-dark",name:"antd-pro-components-global-header-index-name"}},hvVf:function(e,t,a){"use strict";var n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.BaseRequest=void 0,a("miYZ");var r=n(a("tsqr")),o=n(a("2Taf")),l=n(a("vZ4D")),u=a("SusR"),i=a("WwJF"),d=function(){function e(){(0,o.default)(this,e)}return(0,l.default)(e,[{key:"object",value:function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{method:"GET",options:u.HTTP_CONTENT_TYPE.FORM,tipStr:null,dataField:"data"};return n&&(n.method||(n.method="GET"),n.options||(n.options=u.HTTP_CONTENT_TYPE.FORM),n.tipStr||(n.tipStr=null),n.dataField||(n.dataField="data")),n.tipStr&&(t=r.default.loading(n.tipStr+"...",0)),i.httpService.request(n.method,e,a,n.options).then(function(e){if(n.tipStr&&setTimeout(t,0),e.flag){var a=e.data[n.dataField]?e.data[n.dataField]:null;return Promise.resolve(a)}return Promise.resolve(null)})}},{key:"list",value:function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{method:"GET",options:u.HTTP_CONTENT_TYPE.FORM,tipStr:null,dataField:"data"};return n&&(n.method||(n.method="GET"),n.options||(n.options=u.HTTP_CONTENT_TYPE.FORM),n.tipStr||(n.tipStr=null),n.dataField||(n.dataField="data")),n.tipStr&&(t=r.default.loading(n.tipStr+"...",0)),i.httpService.request(n.method,e,a,n.options).then(function(e){if(n.tipStr&&setTimeout(t,0),e.flag){var a=e.data[n.dataField]?e.data[n.dataField]:[];return Promise.resolve(a)}return Promise.resolve([])})}},{key:"add",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{method:"POST",options:u.HTTP_CONTENT_TYPE.FORM};return a&&(a.method||(a.method="POST"),a.options||(a.options=u.HTTP_CONTENT_TYPE.FORM)),this.handleBooleanRequest(e,t,a)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{method:"PUT",options:u.HTTP_CONTENT_TYPE.FORM};return a&&(a.method||(a.method="PUT"),a.options||(a.options=u.HTTP_CONTENT_TYPE.FORM)),this.handleBooleanRequest(e,t,a)}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{method:"DELETE",options:u.HTTP_CONTENT_TYPE.FORM};return a&&(a.method||(a.method="DELETE"),a.options||(a.options=u.HTTP_CONTENT_TYPE.FORM)),this.handleBooleanRequest(e,t,a)}},{key:"handleBooleanRequest",value:function(e,t,a){var n=r.default.loading("\u6b63\u5728\u63d0\u4ea4\uff0c\u8bf7\u7a0d\u7b49...",0);return i.httpService.request(a.method,e,t,a.options).then(function(e){return setTimeout(n,0),e.flag?(r.default.success("\u64cd\u4f5c\u6210\u529f"),Promise.resolve(!0)):Promise.resolve(!1)})}}]),e}();t.BaseRequest=d},"lrm/":function(e,t,a){(function(t,a){e.exports=a()})(window,function(){return function(e){var t={};function a(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}return a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=0)}([function(e,t,a){"use strict";function n(e){for(var a in e)t.hasOwnProperty(a)||(t[a]=e[a])}Object.defineProperty(t,"__esModule",{value:!0}),n(a(1))},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.treeConfig={rootParentId:"0",idMapName:"id",parentIdMapName:"parentId",parentMapName:"parent",childrenMapName:"children",clearChildren:!0,deepMapName:"deep"},e&&(e.rootParentId&&(this.treeConfig.rootParentId=e.rootParentId),e.idMapName&&(this.treeConfig.idMapName=e.idMapName),e.parentIdMapName&&(this.treeConfig.parentIdMapName=e.parentIdMapName),e.parentMapName&&(this.treeConfig.parentMapName=e.parentMapName),e.childrenMapName&&(this.treeConfig.childrenMapName=e.childrenMapName),e.clearChildren&&(this.treeConfig.clearChildren=e.clearChildren),e.deepMapName&&(this.treeConfig.deepMapName=e.deepMapName))}return e.prototype.treeToArr=function(e,t){var a=this.mergeConfig(t),n=[],r=function(e,t,o){for(var l=0,u=e;l<u.length;l++){var i=u[l];i[a.deepMapName]=o,i[a.parentMapName]=t,a.cb&&a.cb(i,t,o),n.push(i);var d=i[a.childrenMapName];null!=d&&Array.isArray(d)&&d.length>0&&r(d,i,o+1),a.clearChildren&&delete i[a.childrenMapName]}};return r(e,1,null),n},e.prototype.arrToTree=function(e,t){void 0===e&&(e=[]);for(var a=this.mergeConfig(t),n=[],r={},o=0,l=e;o<l.length;o++){var u=l[o],i=u[a.idMapName],d=u[a.parentIdMapName];r[i]=r[i]||[],u[a.childrenMapName]=r[i],a.cb&&a.cb(u),d.toString()!==a.rootParentId.toString()?(r[d]=r[d]||[],r[d].push(u)):n.push(u)}return this.visitTree(n,function(e){e[a.childrenMapName]&&0!==e[a.childrenMapName].length||delete e[a.childrenMapName]}),n},e.prototype.visitTree=function(e,t,a){var n=this.mergeConfig(a),r=function(e,a,o){for(var l=0,u=e;l<u.length;l++){var i=u[l];t(i,a,o);var d=i[n.childrenMapName];d&&d.length>0&&r(d,i,o+1)}};r(e,null,1)},e.prototype.mergeConfig=function(e){var t=JSON.parse(JSON.stringify(this.treeConfig));return e&&(e.rootParentId&&(t.rootParentId=e.rootParentId),e.idMapName&&(t.idMapName=e.idMapName),e.parentIdMapName&&(t.parentIdMapName=e.parentIdMapName),e.parentMapName&&(t.parentMapName=e.parentMapName),e.childrenMapName&&(t.childrenMapName=e.childrenMapName),e.clearChildren&&(t.clearChildren=e.clearChildren),e.deepMapName&&(t.deepMapName=e.deepMapName),e.cb&&(t.cb=e.cb)),t},e}();t.TreeService=n}])})},sgkG:function(e,t,a){"use strict";var n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("q1tI")),o=a("MuoO"),l=n(a("CWS2")),u=n(a("h3zL")),i=function(e){var t=e.theme,a=e.layout,n=u.default.right;return"dark"===t&&"topmenu"===a&&(n="".concat(u.default.right,"  ").concat(u.default.dark)),r.default.createElement("div",{className:n},r.default.createElement(l.default,{menu:!0}))},d=(0,o.connect)(function(e){var t=e.settings;return{theme:t.navTheme,layout:t.layout}})(i);t.default=d},suse:function(e,t,a){"use strict";var n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.userRequest=void 0;var r=n(a("2Taf")),o=n(a("vZ4D")),l=n(a("l4Ni")),u=n(a("ujKo")),i=n(a("MhPg")),d=a("hvVf"),c=a("IOEE"),s=function(e){function t(){return(0,r.default)(this,t),(0,l.default)(this,(0,u.default)(t).apply(this,arguments))}return(0,i.default)(t,e),(0,o.default)(t,[{key:"getCurrentUserInfo",value:function(){return this.object(c.API_CONFIG.MAIN.GET_CURRENT_USER_INFO)}},{key:"getCurrentUserACL",value:function(){return this.object(c.API_CONFIG.MAIN.GET_CURRENT_USER_ACL)}}]),t}(d.BaseRequest),f=new s;t.userRequest=f}}]);